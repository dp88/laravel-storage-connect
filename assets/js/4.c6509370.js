(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{172:function(t,a,s){"use strict";s.r(a);var e=s(0),n=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"introduction"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#introduction","aria-hidden":"true"}},[t._v("#")]),t._v(" Introduction")]),t._v(" "),s("p",[t._v("This is a Laravel package designed to drastically simplify the process of authenticating to a user's cloud storage account and uploading files.")]),t._v(" "),s("ul",[s("li",[t._v("Handles OAuth flow to authorize a cloud storage account")]),t._v(" "),s("li",[t._v("Serializes and handles storing/loading of access tokens and connection details")]),t._v(" "),s("li",[t._v("Queues upload tasks")]),t._v(" "),s("li",[t._v("Retries upload failures with increasing backoff")]),t._v(" "),s("li",[t._v("Supports uploading from local filesystem, S3 hosted files (registers a stream wrapper), or any URL")]),t._v(" "),s("li",[t._v("Automatically disables a connection if storage quota is full, and then re-enables if space is freed up")]),t._v(" "),s("li",[t._v("Fires events for all activity, and can optionally log activity for you")])]),t._v(" "),s("h2",{attrs:{id:"quick-example"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#quick-example","aria-hidden":"true"}},[t._v("#")]),t._v(" Quick example")]),t._v(" "),s("p",[t._v("Let's say you want to connect to the Dropbox account of your currently logged-in user.")]),t._v(" "),s("p",[t._v("You would create a route that simply does this:")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Auth"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token function"}},[t._v("user")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token property"}},[t._v("dropbox")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token function"}},[t._v("authorize")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token variable"}},[t._v("$redirectUrl")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("This will redirect the user through the Dropbox oauth process, handle the callback, store the access tokens in the database for your user, and finally redirect back to your desired page.")]),t._v(" "),s("p",[t._v("Now later on when you want to upload a file to this cloud storage:")]),t._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[t._v("Auth"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token function"}},[t._v("user")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token property"}},[t._v("dropbox")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token function"}},[t._v("upload")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token double-quoted-string string"}},[t._v('"/path/to/source/file.pdf"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token double-quoted-string string"}},[t._v('"uploaded.pdf"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("This creates a queued job to upload the file, retry on error, and will dispatch an event when it succeeds or if it ultimately fails.")])])}],!1,null,null,null);n.options.__file="README.md";a.default=n.exports}}]);